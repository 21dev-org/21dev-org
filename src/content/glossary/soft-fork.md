---
term: 軟分叉
termEn: Soft Fork
aliases: [向後兼容升級]
category: protocol
difficulty: intermediate
relatedTerms: [fork, consensus, segwit, taproot]
---

軟分叉是一種向後兼容的協議升級方式。舊版本節點仍能驗證新區塊，但可能無法完全理解新功能。軟分叉收緊了共識規則。

## 軟分叉 vs 硬分叉

| 特性     | 軟分叉   | 硬分叉     |
| -------- | -------- | ---------- |
| 兼容性   | 向後兼容 | 不兼容     |
| 規則變化 | 收緊     | 放寬或改變 |
| 升級要求 | 可選     | 必須       |
| 分裂風險 | 較低     | 較高       |

## 啟動機制

### BIP9（版本位信號）

```
礦工在區塊版本中設置位元信號支持
當達到 95% 支持率時啟動
有時間限制（超時則失敗）
```

### BIP8（強制啟動）

```
類似 BIP9 但可設定強制啟動
Taproot 使用 Speedy Trial 變體
```

## 重要軟分叉

| 升級    | 啟動時間 | BIP    |
| ------- | -------- | ------ |
| P2SH    | 2012     | BIP16  |
| SegWit  | 2017     | BIP141 |
| Taproot | 2021     | BIP341 |

## 為何偏好軟分叉

- 不強迫所有人升級
- 減少網路分裂風險
- 保持向後兼容性
