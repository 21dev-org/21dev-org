---
import BitcoinLogo from '@/components/svg/BitcoinLogo.astro';
import LightningBolt from '@/components/svg/LightningBolt.astro';
import NostrIcon from '@/components/svg/NostrIcon.astro';
import Button from '@/components/ui/Button.astro';

const technologies = [
  {
    id: 'bitcoin-core',
    name: 'Bitcoin Core',
    description: '比特幣網路的參考實現。共識、P2P、交易驗證、區塊同步都在這。',
    icon: 'bitcoin',
    href: '/tech/bitcoin-core/',
    features: ['共識機制', '網路協議', 'P2P 通訊', '區塊驗證'],
  },
  {
    id: 'lightning',
    name: 'Lightning Network',
    description: 'Layer 2 支付協議。支付通道、HTLC、路由，即時小額支付。',
    icon: 'lightning',
    href: '/tech/lightning/',
    features: ['支付通道', 'HTLC', '路由算法', '發票系統'],
  },
  {
    id: 'nostr',
    name: 'Nostr',
    description: '去中心化社交協議。中繼器、事件簽名、NIP 標準。',
    icon: 'nostr',
    href: '/tech/nostr/',
    features: ['中繼器', '事件簽名', 'NIP 標準', '抗審查'],
  },
];
---

<section class="py-20 md:py-28 bg-[var(--bg-primary)]">
  <div class="container-wide">
    <!-- Section header -->
    <div class="max-w-3xl mx-auto text-center mb-16">
      <h2 class="text-3xl md:text-4xl font-bold text-[var(--text-primary)] mb-4">技術領域</h2>
      <p class="text-lg text-[var(--text-secondary)]">比特幣協議層、支付通道、去中心化社交。</p>
    </div>

    <!-- Tech cards -->
    <div class="grid md:grid-cols-3 gap-6 lg:gap-8">
      {
        technologies.map((tech) => (
          <a
            href={tech.href}
            class="group relative block rounded-2xl border border-[var(--border-default)] bg-[var(--surface-elevated)] p-8 transition-all duration-300 hover:border-bitcoin-500/50 hover:shadow-xl hover:shadow-bitcoin-500/10"
          >
            {/* Icon */}
            <div class="mb-6">
              {tech.icon === 'bitcoin' && (
                <div class="h-14 w-14 rounded-xl bg-bitcoin-500/10 flex items-center justify-center group-hover:scale-110 transition-transform">
                  <BitcoinLogo size={32} />
                </div>
              )}
              {tech.icon === 'lightning' && (
                <div class="h-14 w-14 rounded-xl bg-yellow-500/10 flex items-center justify-center group-hover:scale-110 transition-transform">
                  <LightningBolt size={32} />
                </div>
              )}
              {tech.icon === 'nostr' && (
                <div class="h-14 w-14 rounded-xl bg-purple-500/10 flex items-center justify-center group-hover:scale-110 transition-transform">
                  <NostrIcon size={32} />
                </div>
              )}
            </div>

            {/* Content */}
            <h3 class="text-xl font-semibold text-[var(--text-primary)] mb-3 group-hover:text-bitcoin-500 transition-colors">
              {tech.name}
            </h3>
            <p class="text-[var(--text-secondary)] mb-6 line-clamp-3">{tech.description}</p>

            {/* Features */}
            <div class="flex flex-wrap gap-2 mb-6">
              {tech.features.map((feature) => (
                <span class="px-2 py-1 text-xs font-medium rounded-md bg-neutral-100 text-neutral-600 dark:bg-neutral-800 dark:text-neutral-400">
                  {feature}
                </span>
              ))}
            </div>

            {/* Link indicator */}
            <span class="inline-flex items-center text-sm font-medium text-bitcoin-700">
              閱讀更多
              <svg
                class="ml-1 h-4 w-4 group-hover:translate-x-1 transition-transform"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
                stroke-width="2"
              >
                <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
              </svg>
            </span>
          </a>
        ))
      }
    </div>

    <!-- View all -->
    <div class="mt-12 text-center">
      <Button href="/tech/" variant="secondary">
        更多
        <svg class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M13 7l5 5m0 0l-5 5m5-5H6"></path>
        </svg>
      </Button>
    </div>
  </div>
</section>
