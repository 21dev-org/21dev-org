---
interface Props {
  class?: string;
  color?: string;
  opacity?: number;
  animated?: boolean;
}

const {
  class: className = '',
  color = 'currentColor',
  opacity = 0.1,
  animated = false,
} = Astro.props;
---

<svg
  class:list={[className]}
  viewBox="0 0 1440 320"
  xmlns="http://www.w3.org/2000/svg"
  preserveAspectRatio="none"
  style={`opacity: ${opacity}`}
>
  <defs>
    <linearGradient id="wave-gradient" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:var(--color-primary-500);stop-opacity:0.3"></stop>
      <stop offset="50%" style="stop-color:var(--color-primary-500);stop-opacity:0.6"></stop>
      <stop offset="100%" style="stop-color:var(--color-primary-500);stop-opacity:0.3"></stop>
    </linearGradient>
  </defs>

  <!-- First wave layer -->
  <path
    fill="url(#wave-gradient)"
    d="M0,192L48,197.3C96,203,192,213,288,229.3C384,245,480,267,576,250.7C672,235,768,181,864,181.3C960,181,1056,235,1152,234.7C1248,235,1344,181,1392,154.7L1440,128L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"
    class:list={[animated && 'animate-wave-1']}></path>

  <!-- Second wave layer -->
  <path
    fill={color}
    fill-opacity="0.4"
    d="M0,256L48,240C96,224,192,192,288,192C384,192,480,224,576,218.7C672,213,768,171,864,165.3C960,160,1056,192,1152,197.3C1248,203,1344,181,1392,170.7L1440,160L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"
    class:list={[animated && 'animate-wave-2']}></path>

  <!-- Third wave layer -->
  <path
    fill={color}
    fill-opacity="0.6"
    d="M0,288L48,277.3C96,267,192,245,288,234.7C384,224,480,224,576,234.7C672,245,768,267,864,261.3C960,256,1056,224,1152,213.3C1248,203,1344,213,1392,218.7L1440,224L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"
    class:list={[animated && 'animate-wave-3']}></path>
</svg>

<style>
  @keyframes wave1 {
    0%,
    100% {
      transform: translateX(0);
    }
    50% {
      transform: translateX(-25px);
    }
  }

  @keyframes wave2 {
    0%,
    100% {
      transform: translateX(0);
    }
    50% {
      transform: translateX(25px);
    }
  }

  @keyframes wave3 {
    0%,
    100% {
      transform: translateX(0);
    }
    50% {
      transform: translateX(-15px);
    }
  }

  .animate-wave-1 {
    animation: wave1 8s ease-in-out infinite;
  }

  .animate-wave-2 {
    animation: wave2 6s ease-in-out infinite;
  }

  .animate-wave-3 {
    animation: wave3 10s ease-in-out infinite;
  }
</style>
