---
import PageLayout from '@/layouts/PageLayout.astro';
import Button from '@/components/ui/Button.astro';
import Card from '@/components/ui/Card.astro';
import BitcoinLogo from '@/components/svg/BitcoinLogo.astro';
import Breadcrumb from '@/components/ui/Breadcrumb.astro';
---

<PageLayout
  title="Bitcoin Core"
  description="比特幣核心協議的參考實現，了解共識機制、網路協議與區塊鏈技術。"
>
  <!-- Hero section -->
  <section
    class="py-16 md:py-24 bg-gradient-to-b from-[var(--bg-secondary)] to-[var(--bg-primary)] relative overflow-hidden"
  >
    <div class="absolute inset-0 opacity-5">
      <div class="absolute top-1/4 left-1/4 w-96 h-96 bg-bitcoin-500 rounded-full blur-3xl"></div>
    </div>
    <div class="container-wide relative">
      <Breadcrumb items={[{ label: '技術', href: '/tech/' }, { label: 'Bitcoin Core' }]} />
      <div class="flex flex-col md:flex-row md:items-center gap-8">
        <div class="flex-1">
          <div class="flex items-center gap-4 mb-6">
            <BitcoinLogo size={48} />
            <span
              class="px-3 py-1 rounded-full text-sm font-medium bg-bitcoin-500/10 text-bitcoin-500"
            >
              Layer 1
            </span>
          </div>
          <h1 class="text-4xl md:text-5xl font-bold text-[var(--text-primary)] mb-6">
            Bitcoin Core
          </h1>
          <p class="text-xl text-[var(--text-secondary)] mb-8">
            比特幣網路的參考實現，定義了協議標準。想搞懂比特幣底層怎麼運作，讀這個。
          </p>
          <div class="flex flex-wrap gap-4">
            <Button href="https://bitcoin.org/en/bitcoin-core/" variant="primary" external>
              官方網站
            </Button>
            <Button href="https://github.com/bitcoin/bitcoin" variant="secondary" external>
              GitHub
            </Button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Core concepts -->
  <section class="py-16 md:py-24">
    <div class="container-wide">
      <h2 class="text-3xl font-bold text-[var(--text-primary)] mb-12 text-center">核心概念</h2>
      <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
        {
          [
            {
              title: '共識機制',
              description: 'PoW 確保所有節點對區塊鏈狀態達成一致，防止雙重支付。',
            },
            {
              title: 'P2P 網路',
              description: '節點之間直接通訊，沒有中心伺服器。',
            },
            {
              title: 'UTXO 模型',
              description: '追蹤比特幣的所有權和交易歷史。',
            },
            {
              title: '區塊驗證',
              description: '每個節點獨立驗證區塊，包括交易、PoW 和結構。',
            },
            {
              title: 'Mempool',
              description: '待確認的交易池，礦工從中選擇交易打包。',
            },
            {
              title: 'Script',
              description: '定義交易花費條件的腳本語言。',
            },
          ].map((concept) => (
            <Card padding="lg">
              <h3 class="text-xl font-semibold text-[var(--text-primary)] mb-2">{concept.title}</h3>
              <p class="text-[var(--text-secondary)]">{concept.description}</p>
            </Card>
          ))
        }
      </div>
    </div>
  </section>

  <!-- Architecture -->
  <section class="py-16 md:py-24 bg-[var(--bg-secondary)]">
    <div class="container-wide">
      <div class="max-w-4xl mx-auto">
        <h2 class="text-3xl font-bold text-[var(--text-primary)] mb-8 text-center">架構概覽</h2>
        <div class="space-y-6">
          {
            [
              {
                name: '網路層 (Net)',
                desc: '處理 P2P 連接、訊息傳遞和節點發現',
              },
              {
                name: '驗證層 (Validation)',
                desc: '驗證交易和區塊的有效性',
              },
              {
                name: '共識層 (Consensus)',
                desc: '實現共識規則和區塊鏈狀態管理',
              },
              {
                name: '錢包 (Wallet)',
                desc: '密鑰管理、交易建立和簽名',
              },
              {
                name: 'RPC 介面',
                desc: '提供 JSON-RPC API 供外部程式調用',
              },
            ].map((layer, i) => (
              <div class="flex items-start gap-4 p-6 rounded-xl bg-[var(--surface-elevated)] border border-[var(--border-default)]">
                <div class="flex-shrink-0 w-10 h-10 rounded-lg bg-bitcoin-500 text-white flex items-center justify-center font-bold">
                  {i + 1}
                </div>
                <div>
                  <h3 class="font-semibold text-[var(--text-primary)] mb-1">{layer.name}</h3>
                  <p class="text-[var(--text-secondary)]">{layer.desc}</p>
                </div>
              </div>
            ))
          }
        </div>
      </div>
    </div>
  </section>

  <!-- Technical Documentation -->
  <section class="py-16 md:py-24">
    <div class="container-wide">
      <h2 class="text-3xl font-bold text-[var(--text-primary)] mb-4 text-center">技術文檔</h2>
      <p class="text-center text-[var(--text-secondary)] mb-12 max-w-2xl mx-auto">
        深入了解 Bitcoin Core 的核心概念、RPC 接口和網路協議。
      </p>

      <!-- Core Protocol -->
      <div class="mb-12">
        <h3 class="text-xl font-semibold text-[var(--text-primary)] mb-6 flex items-center gap-2">
          <span
            class="w-8 h-8 rounded-lg bg-bitcoin-500 text-white flex items-center justify-center text-sm font-bold"
            >1</span
          >
          核心協議
        </h3>
        <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-4">
          <Card href="/tech/bitcoin-core/consensus" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">共識機制</h4>
            <p class="text-sm text-[var(--text-secondary)]">PoW、難度調整、分叉處理</p>
          </Card>
          <Card href="/tech/bitcoin-core/block-structure" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">區塊結構</h4>
            <p class="text-sm text-[var(--text-secondary)]">區塊頭、Merkle 樹、Coinbase</p>
          </Card>
          <Card href="/tech/bitcoin-core/transaction" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">交易結構</h4>
            <p class="text-sm text-[var(--text-secondary)]">輸入輸出、腳本、SegWit</p>
          </Card>
          <Card href="/tech/bitcoin-core/utxo" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">UTXO 模型</h4>
            <p class="text-sm text-[var(--text-secondary)]">UTXO 集合、Coin Selection</p>
          </Card>
          <Card href="/tech/bitcoin-core/script" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Script</h4>
            <p class="text-sm text-[var(--text-secondary)]">操作碼、腳本類型、智能合約</p>
          </Card>
          <Card href="/tech/bitcoin-core/mempool" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Mempool</h4>
            <p class="text-sm text-[var(--text-secondary)]">交易池、RBF、手續費估算</p>
          </Card>
          <Card href="/tech/bitcoin-core/mining" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Mining</h4>
            <p class="text-sm text-[var(--text-secondary)]">難度調整、區塊模板、Stratum</p>
          </Card>
          <Card href="/tech/bitcoin-core/addresses" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Address Types</h4>
            <p class="text-sm text-[var(--text-secondary)]">Base58、Bech32、地址格式</p>
          </Card>
          <Card href="/tech/bitcoin-core/coin-selection" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Coin Selection</h4>
            <p class="text-sm text-[var(--text-secondary)]">UTXO 選擇、手續費優化</p>
          </Card>
          <Card href="/tech/bitcoin-core/assumeutxo" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">AssumeUTXO</h4>
            <p class="text-sm text-[var(--text-secondary)]">快速同步、UTXO 快照</p>
          </Card>
          <Card href="/tech/bitcoin-core/segwit" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">SegWit</h4>
            <p class="text-sm text-[var(--text-secondary)]">隔離見證、BIP-141/143/144</p>
          </Card>
          <Card href="/tech/bitcoin-core/taproot" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Taproot</h4>
            <p class="text-sm text-[var(--text-secondary)]">Schnorr、MAST、BIP-340/341</p>
          </Card>
          <Card href="/tech/bitcoin-core/libsecp256k1" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">libsecp256k1</h4>
            <p class="text-sm text-[var(--text-secondary)]">橢圓曲線密碼學庫</p>
          </Card>
          <Card href="/tech/bitcoin-core/timelock" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Timelock</h4>
            <p class="text-sm text-[var(--text-secondary)]">時間鎖、CLTV、CSV</p>
          </Card>
          <Card href="/tech/bitcoin-core/sighash" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Sighash Types</h4>
            <p class="text-sm text-[var(--text-secondary)]">簽名雜湊類型</p>
          </Card>
          <Card href="/tech/bitcoin-core/fees" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Transaction Fees</h4>
            <p class="text-sm text-[var(--text-secondary)]">手續費、RBF、CPFP</p>
          </Card>
          <Card href="/tech/bitcoin-core/hd-wallets" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">HD Wallets</h4>
            <p class="text-sm text-[var(--text-secondary)]">階層確定性錢包、BIP-32/39/44</p>
          </Card>
          <Card href="/tech/bitcoin-core/silent-payments" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Silent Payments</h4>
            <p class="text-sm text-[var(--text-secondary)]">靜默支付、BIP-352</p>
          </Card>
          <Card href="/tech/bitcoin-core/schnorr" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Schnorr Signatures</h4>
            <p class="text-sm text-[var(--text-secondary)]">BIP-340、金鑰聚合</p>
          </Card>
          <Card href="/tech/bitcoin-core/multisig" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Multisig</h4>
            <p class="text-sm text-[var(--text-secondary)]">多重簽名、m-of-n</p>
          </Card>
          <Card href="/tech/bitcoin-core/coinjoin" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Coinjoin</h4>
            <p class="text-sm text-[var(--text-secondary)]">交易混合、隱私增強</p>
          </Card>
          <Card href="/tech/bitcoin-core/op-return" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">OP_RETURN</h4>
            <p class="text-sm text-[var(--text-secondary)]">數據嵌入、時間戳證明</p>
          </Card>
          <Card href="/tech/bitcoin-core/difficulty" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Difficulty Adjustment</h4>
            <p class="text-sm text-[var(--text-secondary)]">難度調整、nBits 編碼</p>
          </Card>
          <Card href="/tech/bitcoin-core/merkle-tree" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Merkle Tree</h4>
            <p class="text-sm text-[var(--text-secondary)]">Merkle 證明、SPV 驗證</p>
          </Card>
          <Card href="/tech/bitcoin-core/headers-first" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Headers-First Sync</h4>
            <p class="text-sm text-[var(--text-secondary)]">IBD、並行區塊下載</p>
          </Card>
          <Card href="/tech/bitcoin-core/orphan-blocks" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Orphan Blocks</h4>
            <p class="text-sm text-[var(--text-secondary)]">孤立區塊、鏈重組</p>
          </Card>
          <Card href="/tech/bitcoin-core/bech32" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Bech32 & Bech32m</h4>
            <p class="text-sm text-[var(--text-secondary)]">BIP-173/350 編碼</p>
          </Card>
          <Card href="/tech/bitcoin-core/base58" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Base58Check</h4>
            <p class="text-sm text-[var(--text-secondary)]">傳統地址編碼</p>
          </Card>
          <Card href="/tech/bitcoin-core/softforks" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Soft Fork Activation</h4>
            <p class="text-sm text-[var(--text-secondary)]">軟分叉啟用機制</p>
          </Card>
          <Card href="/tech/bitcoin-core/assumevalid" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">AssumeValid</h4>
            <p class="text-sm text-[var(--text-secondary)]">快速同步優化</p>
          </Card>
          <Card href="/tech/bitcoin-core/pruning" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Pruning</h4>
            <p class="text-sm text-[var(--text-secondary)]">區塊鏈修剪</p>
          </Card>
          <Card href="/tech/bitcoin-core/dust" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Dust Limits</h4>
            <p class="text-sm text-[var(--text-secondary)]">灰塵限制機制</p>
          </Card>
          <Card href="/tech/bitcoin-core/block-weight" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Block Weight</h4>
            <p class="text-sm text-[var(--text-secondary)]">區塊重量系統</p>
          </Card>
          <Card href="/tech/bitcoin-core/rbf" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">RBF</h4>
            <p class="text-sm text-[var(--text-secondary)]">Replace-by-Fee 機制</p>
          </Card>
          <Card href="/tech/bitcoin-core/cpfp" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">CPFP</h4>
            <p class="text-sm text-[var(--text-secondary)]">Child Pays For Parent</p>
          </Card>
          <Card href="/tech/bitcoin-core/sigops" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">SigOps</h4>
            <p class="text-sm text-[var(--text-secondary)]">簽名操作限制</p>
          </Card>
          <Card href="/tech/bitcoin-core/wallet-encryption" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Wallet Encryption</h4>
            <p class="text-sm text-[var(--text-secondary)]">錢包加密機制</p>
          </Card>
          <Card href="/tech/bitcoin-core/reindex" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Reindex</h4>
            <p class="text-sm text-[var(--text-secondary)]">重建區塊鏈索引</p>
          </Card>
          <Card href="/tech/bitcoin-core/dbcache" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">DbCache</h4>
            <p class="text-sm text-[var(--text-secondary)]">UTXO 資料庫快取</p>
          </Card>
          <Card href="/tech/bitcoin-core/checkpoints" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Checkpoints</h4>
            <p class="text-sm text-[var(--text-secondary)]">硬編碼檢查點</p>
          </Card>
          <Card href="/tech/bitcoin-core/leveldb" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">LevelDB</h4>
            <p class="text-sm text-[var(--text-secondary)]">鍵值資料庫</p>
          </Card>
          <Card href="/tech/bitcoin-core/orphan-transactions" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Orphan Transactions</h4>
            <p class="text-sm text-[var(--text-secondary)]">孤立交易處理</p>
          </Card>
          <Card href="/tech/bitcoin-core/mempool-policy" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Mempool Policy</h4>
            <p class="text-sm text-[var(--text-secondary)]">交易接受策略</p>
          </Card>
          <Card href="/tech/bitcoin-core/undo-data" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Undo Data</h4>
            <p class="text-sm text-[var(--text-secondary)]">區塊回滾資料</p>
          </Card>
          <Card href="/tech/bitcoin-core/fee-estimation" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Fee Estimation</h4>
            <p class="text-sm text-[var(--text-secondary)]">手續費估算</p>
          </Card>
          <Card href="/tech/bitcoin-core/wallet-backup" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Wallet Backup</h4>
            <p class="text-sm text-[var(--text-secondary)]">錢包備份機制</p>
          </Card>
          <Card href="/tech/bitcoin-core/chain-state" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Chain State</h4>
            <p class="text-sm text-[var(--text-secondary)]">鏈狀態管理</p>
          </Card>
          <Card href="/tech/bitcoin-core/version-bits" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Version Bits</h4>
            <p class="text-sm text-[var(--text-secondary)]">軟分叉信號機制</p>
          </Card>
          <Card href="/tech/bitcoin-core/block-files" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Block Files</h4>
            <p class="text-sm text-[var(--text-secondary)]">區塊文件管理</p>
          </Card>
          <Card href="/tech/bitcoin-core/anchor-outputs" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Anchor Outputs</h4>
            <p class="text-sm text-[var(--text-secondary)]">閃電網路錨點輸出</p>
          </Card>
          <Card href="/tech/bitcoin-core/watchonly" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Watch-Only Wallets</h4>
            <p class="text-sm text-[var(--text-secondary)]">只讀錢包監控</p>
          </Card>
          <Card href="/tech/bitcoin-core/coin-control" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Coin Control</h4>
            <p class="text-sm text-[var(--text-secondary)]">手動 UTXO 選擇</p>
          </Card>
          <Card href="/tech/bitcoin-core/data-directory" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Data Directory</h4>
            <p class="text-sm text-[var(--text-secondary)]">數據目錄結構</p>
          </Card>
          <Card href="/tech/bitcoin-core/wallet-types" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Wallet Types</h4>
            <p class="text-sm text-[var(--text-secondary)]">錢包類型比較</p>
          </Card>
          <Card href="/tech/bitcoin-core/nsequence" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">nSequence</h4>
            <p class="text-sm text-[var(--text-secondary)]">序列號和相對鎖</p>
          </Card>
          <Card href="/tech/bitcoin-core/spv" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">SPV</h4>
            <p class="text-sm text-[var(--text-secondary)]">簡化支付驗證</p>
          </Card>
          <Card href="/tech/bitcoin-core/musig2" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">MuSig2</h4>
            <p class="text-sm text-[var(--text-secondary)]">多方簽名聚合</p>
          </Card>
          <Card href="/tech/bitcoin-core/transaction-broadcast" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Transaction Broadcast</h4>
            <p class="text-sm text-[var(--text-secondary)]">交易廣播機制</p>
          </Card>
          <Card href="/tech/bitcoin-core/script-validation" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Script Validation</h4>
            <p class="text-sm text-[var(--text-secondary)]">腳本驗證過程</p>
          </Card>
          <Card href="/tech/bitcoin-core/hardware-wallet" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Hardware Wallet</h4>
            <p class="text-sm text-[var(--text-secondary)]">硬體錢包整合</p>
          </Card>
          <Card href="/tech/bitcoin-core/backup-recovery" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Backup & Recovery</h4>
            <p class="text-sm text-[var(--text-secondary)]">備份和恢復策略</p>
          </Card>
          <Card href="/tech/bitcoin-core/genesis-block" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Genesis Block</h4>
            <p class="text-sm text-[var(--text-secondary)]">創世區塊結構</p>
          </Card>
          <Card href="/tech/bitcoin-core/coinbase-transaction" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Coinbase Transaction</h4>
            <p class="text-sm text-[var(--text-secondary)]">區塊獎勵交易</p>
          </Card>
          <Card href="/tech/bitcoin-core/ibd" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">IBD</h4>
            <p class="text-sm text-[var(--text-secondary)]">初始區塊下載</p>
          </Card>
          <Card href="/tech/bitcoin-core/full-rbf" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Full RBF</h4>
            <p class="text-sm text-[var(--text-secondary)]">完全 Replace-by-Fee</p>
          </Card>
          <Card href="/tech/bitcoin-core/v3-transactions" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">V3 Transactions</h4>
            <p class="text-sm text-[var(--text-secondary)]">TRUC 交易策略</p>
          </Card>
          <Card href="/tech/bitcoin-core/block-subsidy" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Block Subsidy</h4>
            <p class="text-sm text-[var(--text-secondary)]">區塊獎勵與減半</p>
          </Card>
          <Card href="/tech/bitcoin-core/wtxid" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">WTXID</h4>
            <p class="text-sm text-[var(--text-secondary)]">見證交易識別碼</p>
          </Card>
          <Card href="/tech/bitcoin-core/txid-malleability" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">TX Malleability</h4>
            <p class="text-sm text-[var(--text-secondary)]">交易可延展性</p>
          </Card>
          <Card href="/tech/bitcoin-core/compact-serialization" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Compact Serialization</h4>
            <p class="text-sm text-[var(--text-secondary)]">緊湊序列化格式</p>
          </Card>
          <Card href="/tech/bitcoin-core/witness-program" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Witness Program</h4>
            <p class="text-sm text-[var(--text-secondary)]">見證程式結構</p>
          </Card>
          <Card href="/tech/bitcoin-core/transaction-pinning" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Transaction Pinning</h4>
            <p class="text-sm text-[var(--text-secondary)]">交易釘住攻擊</p>
          </Card>
          <Card href="/tech/bitcoin-core/cluster-mempool" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Cluster Mempool</h4>
            <p class="text-sm text-[var(--text-secondary)]">新 Mempool 架構</p>
          </Card>
          <Card href="/tech/bitcoin-core/ancestor-limits" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Ancestor Limits</h4>
            <p class="text-sm text-[var(--text-secondary)]">祖先後代限制</p>
          </Card>
          <Card href="/tech/bitcoin-core/op-ctv" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">OP_CTV</h4>
            <p class="text-sm text-[var(--text-secondary)]">CheckTemplateVerify</p>
          </Card>
          <Card href="/tech/bitcoin-core/stratum-v2" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Stratum V2</h4>
            <p class="text-sm text-[var(--text-secondary)]">下一代挖礦協議</p>
          </Card>
          <Card href="/tech/bitcoin-core/block-header" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Block Header</h4>
            <p class="text-sm text-[var(--text-secondary)]">區塊頭結構</p>
          </Card>
          <Card href="/tech/bitcoin-core/vbytes" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Virtual Bytes</h4>
            <p class="text-sm text-[var(--text-secondary)]">虛擬位元組與權重</p>
          </Card>
          <Card href="/tech/bitcoin-core/testmempoolaccept" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">TestMempoolAccept</h4>
            <p class="text-sm text-[var(--text-secondary)]">交易驗證測試</p>
          </Card>
          <Card href="/tech/bitcoin-core/address-reuse" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Address Reuse</h4>
            <p class="text-sm text-[var(--text-secondary)]">地址重用風險</p>
          </Card>
          <Card href="/tech/bitcoin-core/scriptpubkey-types" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">ScriptPubKey Types</h4>
            <p class="text-sm text-[var(--text-secondary)]">輸出腳本類型</p>
          </Card>
          <Card href="/tech/bitcoin-core/double-spend" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Double Spend</h4>
            <p class="text-sm text-[var(--text-secondary)]">雙重支付攻擊</p>
          </Card>
          <Card href="/tech/bitcoin-core/eclipse-attack" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Eclipse Attack</h4>
            <p class="text-sm text-[var(--text-secondary)]">日蝕攻擊防護</p>
          </Card>
          <Card href="/tech/bitcoin-core/selfish-mining" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Selfish Mining</h4>
            <p class="text-sm text-[var(--text-secondary)]">自私挖礦攻擊</p>
          </Card>
          <Card href="/tech/bitcoin-core/sybil-attack" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Sybil Attack</h4>
            <p class="text-sm text-[var(--text-secondary)]">女巫攻擊防護</p>
          </Card>
          <Card href="/tech/bitcoin-core/fee-sniping" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Fee Sniping</h4>
            <p class="text-sm text-[var(--text-secondary)]">手續費狙擊防護</p>
          </Card>
          <Card href="/tech/bitcoin-core/op-csv" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">OP_CSV</h4>
            <p class="text-sm text-[var(--text-secondary)]">相對時間鎖操作碼</p>
          </Card>
          <Card href="/tech/bitcoin-core/op-cltv" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">OP_CLTV</h4>
            <p class="text-sm text-[var(--text-secondary)]">絕對時間鎖操作碼</p>
          </Card>
          <Card href="/tech/bitcoin-core/witness-commitment" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Witness Commitment</h4>
            <p class="text-sm text-[var(--text-secondary)]">見證數據承諾</p>
          </Card>
          <Card href="/tech/bitcoin-core/chainparams" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Chain Params</h4>
            <p class="text-sm text-[var(--text-secondary)]">鏈參數配置</p>
          </Card>
          <Card href="/tech/bitcoin-core/51-attack" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">51% Attack</h4>
            <p class="text-sm text-[var(--text-secondary)]">多數算力攻擊</p>
          </Card>
          <Card href="/tech/bitcoin-core/mempool-eviction" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Mempool Eviction</h4>
            <p class="text-sm text-[var(--text-secondary)]">交易驅逐策略</p>
          </Card>
          <Card href="/tech/bitcoin-core/standardness" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Standardness</h4>
            <p class="text-sm text-[var(--text-secondary)]">交易標準性規則</p>
          </Card>
          <Card href="/tech/bitcoin-core/utxo-set" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">UTXO Set</h4>
            <p class="text-sm text-[var(--text-secondary)]">UTXO 集合管理</p>
          </Card>
          <Card href="/tech/bitcoin-core/block-validation" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Block Validation</h4>
            <p class="text-sm text-[var(--text-secondary)]">區塊驗證流程</p>
          </Card>
          <Card href="/tech/bitcoin-core/median-time-past" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Median Time Past</h4>
            <p class="text-sm text-[var(--text-secondary)]">中位時間過去</p>
          </Card>
          <Card href="/tech/bitcoin-core/tx-weight" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">TX Weight</h4>
            <p class="text-sm text-[var(--text-secondary)]">交易權重計算</p>
          </Card>
          <Card href="/tech/bitcoin-core/key-path" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Key Path</h4>
            <p class="text-sm text-[var(--text-secondary)]">Taproot 密鑰路徑</p>
          </Card>
          <Card href="/tech/bitcoin-core/script-path" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Script Path</h4>
            <p class="text-sm text-[var(--text-secondary)]">Taproot 腳本路徑</p>
          </Card>
        </div>
      </div>

      <!-- Developer API -->
      <div class="mb-12">
        <h3 class="text-xl font-semibold text-[var(--text-primary)] mb-6 flex items-center gap-2">
          <span
            class="w-8 h-8 rounded-lg bg-blue-500 text-white flex items-center justify-center text-sm font-bold"
            >2</span
          >
          開發者 API
        </h3>
        <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-4">
          <Card href="/tech/bitcoin-core/rpc-guide" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">RPC 接口指南</h4>
            <p class="text-sm text-[var(--text-secondary)]">配置、認證、調用方法</p>
          </Card>
          <Card href="/tech/bitcoin-core/rpc-wallet" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">錢包 RPC</h4>
            <p class="text-sm text-[var(--text-secondary)]">地址、交易、簽名</p>
          </Card>
          <Card href="/tech/bitcoin-core/rpc-blockchain" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">區塊鏈 RPC</h4>
            <p class="text-sm text-[var(--text-secondary)]">區塊、交易、UTXO 查詢</p>
          </Card>
          <Card href="/tech/bitcoin-core/rpc-network" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">網路 RPC</h4>
            <p class="text-sm text-[var(--text-secondary)]">節點、Mempool、手續費</p>
          </Card>
          <Card href="/tech/bitcoin-core/psbt" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">PSBT</h4>
            <p class="text-sm text-[var(--text-secondary)]">部分簽名、多簽協作</p>
          </Card>
          <Card href="/tech/bitcoin-core/descriptors" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Wallet Descriptors</h4>
            <p class="text-sm text-[var(--text-secondary)]">輸出描述符、錢包備份</p>
          </Card>
          <Card href="/tech/bitcoin-core/miniscript" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Miniscript</h4>
            <p class="text-sm text-[var(--text-secondary)]">結構化腳本、可組合合約</p>
          </Card>
          <Card href="/tech/bitcoin-core/txindex" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">TxIndex</h4>
            <p class="text-sm text-[var(--text-secondary)]">交易索引</p>
          </Card>
          <Card href="/tech/bitcoin-core/coinstatsindex" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">CoinStatsIndex</h4>
            <p class="text-sm text-[var(--text-secondary)]">UTXO 集統計索引</p>
          </Card>
          <Card href="/tech/bitcoin-core/rest-api" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">REST API</h4>
            <p class="text-sm text-[var(--text-secondary)]">HTTP REST 接口</p>
          </Card>
          <Card href="/tech/bitcoin-core/zmq" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">ZeroMQ</h4>
            <p class="text-sm text-[var(--text-secondary)]">實時事件通知</p>
          </Card>
          <Card href="/tech/bitcoin-core/getblocktemplate" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">GetBlockTemplate</h4>
            <p class="text-sm text-[var(--text-secondary)]">礦池區塊模板</p>
          </Card>
          <Card href="/tech/bitcoin-core/scantxoutset" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">ScanTxOutSet</h4>
            <p class="text-sm text-[var(--text-secondary)]">UTXO 集掃描</p>
          </Card>
          <Card href="/tech/bitcoin-core/bitcoin-cli" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Bitcoin CLI</h4>
            <p class="text-sm text-[var(--text-secondary)]">命令行工具</p>
          </Card>
          <Card href="/tech/bitcoin-core/rpc-mining" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Mining RPC</h4>
            <p class="text-sm text-[var(--text-secondary)]">挖礦相關接口</p>
          </Card>
          <Card href="/tech/bitcoin-core/signmessage" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Sign Message</h4>
            <p class="text-sm text-[var(--text-secondary)]">消息簽名驗證</p>
          </Card>
          <Card href="/tech/bitcoin-core/bumpfee" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Bumpfee</h4>
            <p class="text-sm text-[var(--text-secondary)]">提高交易手續費</p>
          </Card>
          <Card href="/tech/bitcoin-core/rescanblockchain" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Rescan Blockchain</h4>
            <p class="text-sm text-[var(--text-secondary)]">重新掃描區塊鏈</p>
          </Card>
        </div>
      </div>

      <!-- Network Protocol -->
      <div class="mb-12">
        <h3 class="text-xl font-semibold text-[var(--text-primary)] mb-6 flex items-center gap-2">
          <span
            class="w-8 h-8 rounded-lg bg-purple-500 text-white flex items-center justify-center text-sm font-bold"
            >3</span
          >
          網路協議
        </h3>
        <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-4">
          <Card href="/tech/bitcoin-core/p2p-protocol" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">P2P 協議概覽</h4>
            <p class="text-sm text-[var(--text-secondary)]">握手、連線類型、BIP-324</p>
          </Card>
          <Card href="/tech/bitcoin-core/message-types" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">訊息類型</h4>
            <p class="text-sm text-[var(--text-secondary)]">控制訊息、數據傳播</p>
          </Card>
          <Card href="/tech/bitcoin-core/node-discovery" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">節點發現</h4>
            <p class="text-sm text-[var(--text-secondary)]">DNS Seeds、地址管理</p>
          </Card>
          <Card href="/tech/bitcoin-core/compact-blocks" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Compact Blocks</h4>
            <p class="text-sm text-[var(--text-secondary)]">BIP-152、區塊中繼優化</p>
          </Card>
          <Card href="/tech/bitcoin-core/bip324" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">BIP-324</h4>
            <p class="text-sm text-[var(--text-secondary)]">v2 加密 P2P 傳輸協議</p>
          </Card>
          <Card href="/tech/bitcoin-core/bloom-filters" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Bloom Filters</h4>
            <p class="text-sm text-[var(--text-secondary)]">BIP-37、SPV 過濾（已棄用）</p>
          </Card>
          <Card href="/tech/bitcoin-core/compact-block-filters" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Compact Block Filters</h4>
            <p class="text-sm text-[var(--text-secondary)]">BIP-157/158、Neutrino</p>
          </Card>
          <Card href="/tech/bitcoin-core/erlay" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Erlay</h4>
            <p class="text-sm text-[var(--text-secondary)]">BIP-330 頻寬優化</p>
          </Card>
          <Card href="/tech/bitcoin-core/package-relay" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Package Relay</h4>
            <p class="text-sm text-[var(--text-secondary)]">交易包中繼</p>
          </Card>
          <Card href="/tech/bitcoin-core/tor" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Tor Integration</h4>
            <p class="text-sm text-[var(--text-secondary)]">匿名網路整合</p>
          </Card>
          <Card href="/tech/bitcoin-core/banlist" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Banlist</h4>
            <p class="text-sm text-[var(--text-secondary)]">節點封禁機制</p>
          </Card>
          <Card href="/tech/bitcoin-core/blocksonly" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Blocks Only</h4>
            <p class="text-sm text-[var(--text-secondary)]">僅區塊模式</p>
          </Card>
          <Card href="/tech/bitcoin-core/addrman" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">AddrMan</h4>
            <p class="text-sm text-[var(--text-secondary)]">地址管理器</p>
          </Card>
          <Card href="/tech/bitcoin-core/block-relay-only" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Block-Relay-Only</h4>
            <p class="text-sm text-[var(--text-secondary)]">僅區塊中繼連接</p>
          </Card>
          <Card href="/tech/bitcoin-core/peer-management" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Peer Management</h4>
            <p class="text-sm text-[var(--text-secondary)]">節點連接管理</p>
          </Card>
          <Card href="/tech/bitcoin-core/i2p" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">I2P Integration</h4>
            <p class="text-sm text-[var(--text-secondary)]">I2P 匿名網路</p>
          </Card>
          <Card href="/tech/bitcoin-core/cjdns" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">CJDNS</h4>
            <p class="text-sm text-[var(--text-secondary)]">加密網狀網路</p>
          </Card>
          <Card href="/tech/bitcoin-core/block-download" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Block Download</h4>
            <p class="text-sm text-[var(--text-secondary)]">區塊下載策略</p>
          </Card>
          <Card href="/tech/bitcoin-core/network-traffic" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Network Traffic</h4>
            <p class="text-sm text-[var(--text-secondary)]">網路流量管理</p>
          </Card>
          <Card href="/tech/bitcoin-core/node-security" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Node Security</h4>
            <p class="text-sm text-[var(--text-secondary)]">節點安全配置</p>
          </Card>
          <Card href="/tech/bitcoin-core/network-magic" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Network Magic</h4>
            <p class="text-sm text-[var(--text-secondary)]">網路魔數識別</p>
          </Card>
          <Card href="/tech/bitcoin-core/asmap" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">ASMap</h4>
            <p class="text-sm text-[var(--text-secondary)]">自治系統映射</p>
          </Card>
        </div>
      </div>

      <!-- Development -->
      <div class="mb-12">
        <h3 class="text-xl font-semibold text-[var(--text-primary)] mb-6 flex items-center gap-2">
          <span
            class="w-8 h-8 rounded-lg bg-green-500 text-white flex items-center justify-center text-sm font-bold"
            >4</span
          >
          開發與測試
        </h3>
        <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-4">
          <Card href="/tech/bitcoin-core/test-networks" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Test Networks</h4>
            <p class="text-sm text-[var(--text-secondary)]">Testnet、Signet、Regtest</p>
          </Card>
          <Card href="/tech/bitcoin-core/contribute" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">參與開發</h4>
            <p class="text-sm text-[var(--text-secondary)]">貢獻代碼指南</p>
          </Card>
          <Card href="/tech/bitcoin-core/logging" padding="md">
            <h4 class="font-semibold text-[var(--text-primary)] mb-1">Debug Logging</h4>
            <p class="text-sm text-[var(--text-secondary)]">日誌系統配置</p>
          </Card>
        </div>
      </div>
    </div>
  </section>

  <!-- Resources -->
  <section class="py-16 md:py-24 bg-[var(--bg-secondary)]">
    <div class="container-wide">
      <h2 class="text-3xl font-bold text-[var(--text-primary)] mb-12 text-center">延伸資源</h2>
      <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-5xl mx-auto">
        <Card href="/books/mastering-bitcoin" padding="md">
          <h3 class="font-semibold text-[var(--text-primary)] mb-1">Mastering Bitcoin</h3>
          <p class="text-sm text-[var(--text-secondary)]">經典技術書籍</p>
        </Card>
        <Card href="/bips/" padding="md">
          <h3 class="font-semibold text-[var(--text-primary)] mb-1">BIP 討論</h3>
          <p class="text-sm text-[var(--text-secondary)]">協議改進提案</p>
        </Card>
        <Card href="/tech/bitcoin-core/contribute" padding="md">
          <h3 class="font-semibold text-[var(--text-primary)] mb-1">參與開發</h3>
          <p class="text-sm text-[var(--text-secondary)]">貢獻代碼指南</p>
        </Card>
        <Card href="https://github.com/bitcoin/bitcoin" padding="md">
          <h3 class="font-semibold text-[var(--text-primary)] mb-1">GitHub</h3>
          <p class="text-sm text-[var(--text-secondary)]">源代碼倉庫</p>
        </Card>
      </div>
    </div>
  </section>
</PageLayout>
