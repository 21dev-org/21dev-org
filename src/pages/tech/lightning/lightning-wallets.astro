---
import ArticleLayout from '@/layouts/ArticleLayout.astro';
---

<ArticleLayout
  title="Lightning Wallets 錢包指南"
  description="了解不同類型的閃電錢包，從託管到自託管，從手機到節點，選擇適合你需求的錢包。"
  breadcrumbs={[
    { label: '技術', href: '/tech/' },
    { label: 'Lightning Network', href: '/tech/lightning/' },
    { label: 'Lightning Wallets' },
  ]}
  difficulty="beginner"
  readingTime="12 分鐘"
  prevPage={{ title: 'Network Topology', href: '/tech/lightning/network-topology' }}
  nextPage={{ title: 'WebLN', href: '/tech/lightning/webln' }}
>
  <h2 class="text-2xl font-bold text-[var(--text-primary)] mt-8 mb-4">錢包類型概述</h2>
  <p class="text-[var(--text-secondary)] leading-relaxed mb-6">
    閃電錢包的選擇取決於你的技術能力、安全需求和使用場景。
    從完全託管到運行自己的節點，有多種選項可供選擇。
  </p>

  <div class="not-prose mb-8 p-4 rounded-lg bg-blue-500/10 border border-blue-500/30">
    <p class="text-sm text-blue-700 dark:text-blue-400">
      <strong>權衡取捨：</strong>
      更多的自主權意味著更多的責任。託管簡單但需要信任；
      自託管安全但需要技術能力。選擇適合你的平衡點。
    </p>
  </div>

  <h2 class="text-2xl font-bold text-[var(--text-primary)] mt-8 mb-4">錢包分類</h2>

  <div
    class="not-prose mb-6 p-4 rounded-lg bg-[var(--bg-secondary)] border border-[var(--border-default)] font-mono text-sm overflow-x-auto"
  >
    <pre
      class="text-[var(--text-secondary)]">{`Wallet Type Spectrum

Custody Level:  Low <-------------------------> High

┌──────────┐  ┌──────────┐  ┌──────────┐  ┌──────────┐
│ Full     │  │ LSP      │  │ Semi-    │  │ Fully    │
│ Node     │  │ Wallet   │  │ Custodial│  │ Custodial│
└──────────┘  └──────────┘  └──────────┘  └──────────┘
Run your own   Hold keys,   Key split/   Provider
node, full     LSP provides co-custody   holds your
control        liquidity                 funds

Security vs Convenience:

More Secure ────────────────────────────> More Convenient
Full Node > LSP Wallet > Semi-Custodial > Fully Custodial

More Convenient ────────────────────────> More Secure
Fully Custodial > Semi-Custodial > LSP Wallet > Full Node`}</pre>
  </div>

  <h2 class="text-2xl font-bold text-[var(--text-primary)] mt-8 mb-4">託管錢包</h2>

  <div
    class="not-prose mb-6 p-4 rounded-lg bg-[var(--bg-secondary)] border border-[var(--border-default)] font-mono text-sm overflow-x-auto"
  >
    <pre
      class="text-[var(--text-secondary)]">{`Custodial Wallet Characteristics

How it works:
  User ---------> Provider Node ---------> Lightning Network
       (account      (actual
        balance)      channels)

• User only has account, no private keys
• Provider runs node, manages all channels

Pros:
• Instant availability, no channel setup wait
• No technical knowledge required
• Usually lower fees (batch processing)
• Convenient for small amounts
• Social features supported

Cons:
• Requires trusting provider
• Provider can freeze funds
• Poor privacy (provider sees all transactions)
• Provider bankruptcy risk
• May require KYC

Best for:
• Beginners getting started
• Small daily spending
• Social payments
• Users who don't want technical management`}</pre>
  </div>

  <h2 class="text-2xl font-bold text-[var(--text-primary)] mt-8 mb-4">自託管 LSP 錢包</h2>

  <div
    class="not-prose mb-6 p-4 rounded-lg bg-[var(--bg-secondary)] border border-[var(--border-default)] font-mono text-sm overflow-x-auto"
  >
    <pre
      class="text-[var(--text-secondary)]">{`LSP (Lightning Service Provider) Wallet

How it works:
  User Wallet <----channel----> LSP -----> Lightning Network
  (holds keys)

User holds private keys. LSP provides:
• Inbound liquidity
• Routing services
• Channel management
• Backup services

Key Features:

Automatic Channel Management:
• Auto channel opening
• Auto inbound capacity increase
• Auto rebalancing

Simplified UX:
• Ready to receive on first payment
• No need to understand channel concepts
• Similar to on-chain wallet experience

Pros:
• You hold private keys
• Funds under your control
• Better privacy
• No KYC required
• Good user experience

Cons:
• Depends on LSP availability
• LSP may charge service fees
• Need to manage backups
• First receive may need on-chain tx`}</pre>
  </div>

  <h2 class="text-2xl font-bold text-[var(--text-primary)] mt-8 mb-4">全節點錢包</h2>

  <div
    class="not-prose mb-6 p-4 rounded-lg bg-[var(--bg-secondary)] border border-[var(--border-default)] font-mono text-sm overflow-x-auto"
  >
    <pre
      class="text-[var(--text-secondary)]">{`Running Your Own Lightning Node

Architecture:
┌─────────────────────────────────────────────────────────┐
│                    User Hardware                        │
│  ┌──────────┐    ┌──────────┐    ┌──────────┐          │
│  │ Bitcoin  │<---│ Lightning│<---│  Wallet  │          │
│  │ Core     │    │ Node     │    │  UI      │          │
│  └──────────┘    └──────────┘    └──────────┘          │
└─────────────────────────────────────────────────────────┘
                        │
                        ▼
                 Lightning Network

Node Software Options:

LND (Lightning Labs):
• Written in Go
• Most widely used
• Rich API
• Active dev community

Core Lightning (Blockstream):
• Written in C
• Flexible plugin system
• Native Liquidity Ads support
• Lightweight

Eclair (ACINQ):
• Written in Scala
• Enterprise-grade stability
• Phoenix wallet backend
• Trampoline support

LDK (Spiral):
• Rust library
• Embedded use
• Highly customizable
• Good for developer integration

Hardware Options:
• Dedicated: Umbrel, Start9, RaspiBlitz, myNode
• Cloud VPS: requires reliable network/storage
• Home computer: requires continuous operation
• Enterprise server: high availability setup`}</pre>
  </div>

  <h2 class="text-2xl font-bold text-[var(--text-primary)] mt-8 mb-4">熱門錢包比較</h2>

  <div class="grid md:grid-cols-2 gap-4 mb-8">
    <div class="p-4 rounded-lg border border-[var(--border-default)] bg-[var(--surface-elevated)]">
      <h4 class="font-semibold text-[var(--text-primary)] mb-2">Phoenix (自託管)</h4>
      <p class="text-sm text-[var(--text-secondary)]">
        ACINQ 開發。自動通道管理，支援 Trampoline，
        極佳的用戶體驗。使用 Eclair 後端。
      </p>
    </div>
    <div class="p-4 rounded-lg border border-[var(--border-default)] bg-[var(--surface-elevated)]">
      <h4 class="font-semibold text-[var(--text-primary)] mb-2">Breez (自託管)</h4>
      <p class="text-sm text-[var(--text-secondary)]">
        全功能閃電錢包，內建 POS 和 Podcast 功能。
        使用 LND 作為後端，開源。
      </p>
    </div>
    <div class="p-4 rounded-lg border border-[var(--border-default)] bg-[var(--surface-elevated)]">
      <h4 class="font-semibold text-[var(--text-primary)] mb-2">Muun (混合)</h4>
      <p class="text-sm text-[var(--text-secondary)]">
        鏈上和閃電整合。使用 Submarine Swap 實現閃電支付。
        2-of-2 多簽保護。
      </p>
    </div>
    <div class="p-4 rounded-lg border border-[var(--border-default)] bg-[var(--surface-elevated)]">
      <h4 class="font-semibold text-[var(--text-primary)] mb-2">Zeus (自託管)</h4>
      <p class="text-sm text-[var(--text-secondary)]">
        連接到自己節點的遠端控制器。
        支援 LND、Core Lightning、Eclair。內嵌 LND 選項。
      </p>
    </div>
    <div class="p-4 rounded-lg border border-[var(--border-default)] bg-[var(--surface-elevated)]">
      <h4 class="font-semibold text-[var(--text-primary)] mb-2">Wallet of Satoshi (託管)</h4>
      <p class="text-sm text-[var(--text-secondary)]">
        極簡託管錢包。安裝即用，無需設置。
        適合小額和新手。
      </p>
    </div>
    <div class="p-4 rounded-lg border border-[var(--border-default)] bg-[var(--surface-elevated)]">
      <h4 class="font-semibold text-[var(--text-primary)] mb-2">Alby (瀏覽器)</h4>
      <p class="text-sm text-[var(--text-secondary)]">
        瀏覽器擴展，支援 WebLN。可連接自己節點
        或使用託管帳戶。適合網頁支付。
      </p>
    </div>
  </div>

  <h2 class="text-2xl font-bold text-[var(--text-primary)] mt-8 mb-4">選擇考量因素</h2>

  <div
    class="not-prose mb-6 p-4 rounded-lg bg-[var(--bg-secondary)] border border-[var(--border-default)] font-mono text-sm overflow-x-auto"
  >
    <pre
      class="text-[var(--text-secondary)]">{`Wallet Decision Tree

By Amount:
• Small (< $100): Custodial is fine, quick and easy
• Medium ($100 - $1000): LSP wallet better, keep control
• Large (> $1000): Consider running your own node

By Usage Frequency:
• Occasional: Custodial or LSP wallet, low maintenance
• Daily use: LSP wallet, balance convenience and control
• Business use: Your own node, full control

By Technical Skill:
• Beginner: Start with custodial, learn gradually
• Intermediate: LSP wallet, understand basic concepts
• Advanced: Run a node, full control

By Privacy Needs:
• Low: Custodial acceptable
• Medium: LSP wallet (LSP still sees transactions)
• High: Own node + Tor
• Maximum: Own node + private channels`}</pre>
  </div>

  <h2 class="text-2xl font-bold text-[var(--text-primary)] mt-8 mb-4">備份和恢復</h2>

  <div
    class="not-prose mb-6 p-4 rounded-lg bg-[var(--bg-secondary)] border border-[var(--border-default)] font-mono text-sm overflow-x-auto"
  >
    <pre
      class="text-[var(--text-secondary)]">{`Backup Strategies by Wallet Type

Custodial Wallet:
• Usually just remember account/password
• Provider handles all backups
• If provider disappears, funds may be unrecoverable

LSP Wallet:
Seed phrase backup (12-24 words):
  • Recovers on-chain funds
  • May need LSP help to recover channels

Static Channel Backup (SCB):
  • Records channel peer info
  • Force close to recover funds

Cloud backup:
  • Many wallets auto-backup to cloud

Full Node:
Must backup:
  • Seed phrase / HD seed
  • channel.backup / SCB
  • Wallet database (optional but recommended)

Auto-backup strategy:
  • Auto-backup SCB on every channel change
  • Backup to multiple locations
  • Regularly test recovery process

Important Reminders:
• Seed phrase only recovers on-chain funds
• Channel funds need SCB or full backup
• Old backup may trigger penalty transaction
• Never store seed phrase online`}</pre>
  </div>

  <div class="not-prose mb-8 p-4 rounded-lg bg-yellow-500/10 border border-yellow-500/30">
    <p class="text-sm text-yellow-700 dark:text-yellow-400">
      <strong>備份警告：</strong>
      閃電通道資金無法僅靠種子詞恢復。必須定期備份通道狀態，
      並且永遠不要使用舊備份，否則可能觸發懲罰機制損失所有資金。
    </p>
  </div>

  <h2 class="text-2xl font-bold text-[var(--text-primary)] mt-8 mb-4">安全最佳實踐</h2>

  <div
    class="not-prose mb-6 p-4 rounded-lg bg-[var(--bg-secondary)] border border-[var(--border-default)] font-mono text-sm overflow-x-auto"
  >
    <pre
      class="text-[var(--text-secondary)]">{`Wallet Security Best Practices

Basic Security:
[x] Download wallet from official sources
[x] Verify app signature/hash
[x] Enable device encryption
[x] Use strong password/PIN
[x] Enable biometrics (if available)
[x] Keep software updated

Seed Phrase Protection:
[x] Record offline (paper or metal)
[x] Store in multiple secure locations
[ ] Don't screenshot
[ ] Don't store in cloud
[ ] Don't send via email
[ ] Don't enter on any website

Node Security:
[x] Use Tor to hide IP
[x] Update software regularly
[x] Monitor channel activity
[x] Set up watchtower
[x] Limit remote access
[x] Use firewall

Fund Distribution:
• Don't put all funds in one wallet
• Hot wallet: only daily spending amount
• Large amounts: cold storage + Lightning combo
• Periodically move Lightning balance back on-chain`}</pre>
  </div>

  <h2 class="text-2xl font-bold text-[var(--text-primary)] mt-8 mb-4">相關資源</h2>

  <ul class="space-y-2 text-[var(--text-secondary)] mb-6">
    <li>
      • <a
        href="https://lightningnetwork.plus/wallets"
        class="text-yellow-600 dark:text-yellow-400 hover:underline">LN+ 錢包比較</a>
    </li>
    <li>
      • <a
        href="/tech/lightning/lsp"
        class="text-yellow-600 dark:text-yellow-400 hover:underline">LSP 服務</a>
    </li>
    <li>
      • <a
        href="/tech/lightning/node-operation"
        class="text-yellow-600 dark:text-yellow-400 hover:underline">節點運營指南</a>
    </li>
  </ul>

  <div class="mt-8 p-4 rounded-lg bg-[var(--bg-secondary)] border border-[var(--border-default)]">
    <p class="text-sm text-[var(--text-secondary)]">
      <strong class="text-[var(--text-primary)]">下一步：</strong>
      了解 <a
        href="/tech/lightning/webln"
        class="text-yellow-600 dark:text-yellow-400 hover:underline">WebLN</a
      >
      如何在網頁中整合閃電支付。
    </p>
  </div>
</ArticleLayout>
