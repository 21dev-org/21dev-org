---
import PageLayout from '@/layouts/PageLayout.astro';
import Button from '@/components/ui/Button.astro';
import Card from '@/components/ui/Card.astro';
import LightningBolt from '@/components/svg/LightningBolt.astro';
---

<PageLayout
  title="Lightning Network"
  description="æ¯”ç‰¹å¹£çš„ Layer 2 æ“´å±•æ–¹æ¡ˆï¼Œå¯¦ç¾å³æ™‚ã€ä½æˆæœ¬çš„æ”¯ä»˜ã€‚"
>
  <!-- Hero section -->
  <section class="py-16 md:py-24 bg-gradient-to-b from-[var(--bg-secondary)] to-[var(--bg-primary)] relative overflow-hidden">
    <div class="absolute inset-0 opacity-5">
      <div class="absolute top-1/4 right-1/4 w-96 h-96 bg-yellow-500 rounded-full blur-3xl"></div>
    </div>
    <div class="container-wide relative">
      <nav class="mb-8" aria-label="éºµåŒ…å±‘">
        <ol class="flex items-center gap-2 text-sm text-[var(--text-tertiary)]">
          <li><a href="/" class="hover:text-[var(--text-primary)]">é¦–é </a></li>
          <li>/</li>
          <li><a href="/tech/" class="hover:text-[var(--text-primary)]">æŠ€è¡“</a></li>
          <li>/</li>
          <li class="text-[var(--text-primary)]">Lightning Network</li>
        </ol>
      </nav>
      <div class="flex flex-col md:flex-row md:items-center gap-8">
        <div class="flex-1">
          <div class="flex items-center gap-4 mb-6">
            <LightningBolt size={48} />
            <span class="px-3 py-1 rounded-full text-sm font-medium bg-yellow-500/10 text-yellow-600 dark:text-yellow-400">
              Layer 2
            </span>
          </div>
          <h1 class="text-4xl md:text-5xl font-bold text-[var(--text-primary)] mb-6">
            Lightning Network
          </h1>
          <p class="text-xl text-[var(--text-secondary)] mb-8">
            é–ƒé›»ç¶²è·¯æ˜¯å»ºç«‹åœ¨æ¯”ç‰¹å¹£ä¹‹ä¸Šçš„ Layer 2 æ”¯ä»˜å”è­°ï¼Œ
            é€šéæ”¯ä»˜é€šé“å¯¦ç¾å³æ™‚ã€ä½æˆæœ¬çš„äº¤æ˜“ï¼ŒåŒæ™‚ä¿æŒæ¯”ç‰¹å¹£çš„å®‰å…¨æ€§ã€‚
          </p>
          <div class="flex flex-wrap gap-4">
            <Button href="https://lightning.network/" variant="primary" external>
              å®˜æ–¹ç¶²ç«™
            </Button>
            <Button href="/books/mastering-lightning" variant="secondary">
              ç²¾é€šé–ƒé›»ç¶²è·¯
            </Button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- How it works -->
  <section class="py-16 md:py-24">
    <div class="container-wide">
      <h2 class="text-3xl font-bold text-[var(--text-primary)] mb-12 text-center">
        é‹ä½œåŸç†
      </h2>
      <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6">
        {[
          {
            step: '1',
            title: 'é–‹å•Ÿé€šé“',
            description: 'å…©æ–¹åœ¨å€å¡Šéˆä¸Šå‰µå»ºä¸€ç­†å¤šç°½äº¤æ˜“ï¼Œé–å®šè³‡é‡‘åˆ°æ”¯ä»˜é€šé“ã€‚',
          },
          {
            step: '2',
            title: 'éˆä¸‹äº¤æ˜“',
            description: 'é›™æ–¹å¯ä»¥é€²è¡Œç„¡æ•¸æ¬¡å³æ™‚äº¤æ˜“ï¼Œåªéœ€æ›´æ–°é€šé“ç‹€æ…‹ï¼Œç„¡éœ€ä¸Šéˆã€‚',
          },
          {
            step: '3',
            title: 'è·¯ç”±æ”¯ä»˜',
            description: 'é€šé HTLC å¯ä»¥è·¨å¤šå€‹é€šé“é€²è¡Œæ”¯ä»˜ï¼Œç„¡éœ€ç›´æ¥é€£æ¥ã€‚',
          },
          {
            step: '4',
            title: 'é—œé–‰é€šé“',
            description: 'ç•¶ä¸å†éœ€è¦é€šé“æ™‚ï¼Œå°‡æœ€çµ‚é¤˜é¡çµç®—åˆ°å€å¡Šéˆä¸Šã€‚',
          },
        ].map((item) => (
          <Card padding="lg">
            <div class="w-10 h-10 rounded-full bg-yellow-500 text-white flex items-center justify-center font-bold mb-4">
              {item.step}
            </div>
            <h3 class="text-lg font-semibold text-[var(--text-primary)] mb-2">
              {item.title}
            </h3>
            <p class="text-[var(--text-secondary)] text-sm">
              {item.description}
            </p>
          </Card>
        ))}
      </div>
    </div>
  </section>

  <!-- Key concepts -->
  <section class="py-16 md:py-24 bg-[var(--bg-secondary)]">
    <div class="container-wide">
      <h2 class="text-3xl font-bold text-[var(--text-primary)] mb-12 text-center">
        é—œéµæ¦‚å¿µ
      </h2>
      <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
        {[
          {
            title: 'æ”¯ä»˜é€šé“',
            description: 'å…©æ–¹ä¹‹é–“çš„é›™å‘æ”¯ä»˜æ¸ é“ï¼Œå…è¨±ç„¡é™æ¬¡å³æ™‚äº¤æ˜“ã€‚',
            icon: 'ğŸ”„',
          },
          {
            title: 'HTLC',
            description: 'å“ˆå¸Œæ™‚é–“é–å®šåˆç´„ï¼Œå¯¦ç¾è·¨é€šé“çš„åŸå­äº¤æ›æ”¯ä»˜ã€‚',
            icon: 'ğŸ”',
          },
          {
            title: 'è·¯ç”±',
            description: 'é€šéå¤šè·³è·¯å¾‘æ‰¾åˆ°æ”¯ä»˜ç›®çš„åœ°ï¼Œé¡ä¼¼ç¶²è·¯å°åŒ…è·¯ç”±ã€‚',
            icon: 'ğŸ›£ï¸',
          },
          {
            title: 'BOLT è¦ç¯„',
            description: 'é–ƒé›»ç¶²è·¯çš„æŠ€è¡“æ¨™æº–ï¼Œå®šç¾©å”è­°çš„å„å€‹æ–¹é¢ã€‚',
            icon: 'ğŸ“‹',
          },
          {
            title: 'ç™¼ç¥¨ (Invoice)',
            description: 'åŒ…å«æ”¯ä»˜è³‡è¨Šçš„è«‹æ±‚ï¼ŒåŒ…æ‹¬é‡‘é¡ã€ç›®çš„åœ°å’Œæè¿°ã€‚',
            icon: 'ğŸ§¾',
          },
          {
            title: 'æµå‹•æ€§',
            description: 'é€šé“ä¸­å¯ç”¨æ–¼æ”¯ä»˜çš„è³‡é‡‘ï¼Œæ˜¯ç¶²è·¯é‹ä½œçš„é—œéµã€‚',
            icon: 'ğŸ’§',
          },
        ].map((concept) => (
          <Card padding="lg">
            <div class="text-3xl mb-4">{concept.icon}</div>
            <h3 class="text-xl font-semibold text-[var(--text-primary)] mb-2">
              {concept.title}
            </h3>
            <p class="text-[var(--text-secondary)]">
              {concept.description}
            </p>
          </Card>
        ))}
      </div>
    </div>
  </section>

  <!-- Implementations -->
  <section class="py-16 md:py-24">
    <div class="container-wide">
      <h2 class="text-3xl font-bold text-[var(--text-primary)] mb-12 text-center">
        ä¸»è¦å¯¦ç¾
      </h2>
      <div class="grid md:grid-cols-3 gap-6 max-w-4xl mx-auto">
        {[
          {
            name: 'LND',
            org: 'Lightning Labs',
            lang: 'Go',
            url: 'https://github.com/lightningnetwork/lnd',
          },
          {
            name: 'Core Lightning',
            org: 'Blockstream',
            lang: 'C',
            url: 'https://github.com/ElementsProject/lightning',
          },
          {
            name: 'Eclair',
            org: 'ACINQ',
            lang: 'Scala',
            url: 'https://github.com/ACINQ/eclair',
          },
        ].map((impl) => (
          <a
            href={impl.url}
            target="_blank"
            rel="noopener noreferrer"
            class="block p-6 rounded-xl border border-[var(--border-default)] bg-[var(--surface-elevated)] hover:border-yellow-500 transition-colors"
          >
            <h3 class="text-xl font-semibold text-[var(--text-primary)] mb-2">{impl.name}</h3>
            <p class="text-sm text-[var(--text-secondary)] mb-3">{impl.org}</p>
            <span class="inline-block px-2 py-1 text-xs rounded bg-neutral-100 dark:bg-neutral-800 text-[var(--text-tertiary)]">
              {impl.lang}
            </span>
          </a>
        ))}
      </div>
    </div>
  </section>

  <!-- Resources -->
  <section class="py-16 md:py-24 bg-[var(--bg-secondary)]">
    <div class="container-wide text-center">
      <h2 class="text-3xl font-bold text-[var(--text-primary)] mb-4">
        æ·±å…¥å­¸ç¿’
      </h2>
      <p class="text-lg text-[var(--text-secondary)] mb-8 max-w-2xl mx-auto">
        é–±è®€ã€Šç²¾é€šé–ƒé›»ç¶²è·¯ã€‹ï¼Œå…¨é¢äº†è§£é–ƒé›»ç¶²è·¯çš„æŠ€è¡“ç´°ç¯€ã€‚
      </p>
      <Button href="/books/mastering-lightning" variant="primary" size="lg">
        é–±è®€ç²¾é€šé–ƒé›»ç¶²è·¯
      </Button>
    </div>
  </section>
</PageLayout>
