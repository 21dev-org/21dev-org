---
import ArticleLayout from '@/layouts/ArticleLayout.astro';
import Tag from '@/components/ui/Tag.astro';
---

<ArticleLayout
  title="BIP-39: 助記詞生成確定性密鑰"
  description="定義將隨機數轉換為易記單詞序列的標準，讓使用者可以備份錢包。"
  breadcrumbs={[{ label: 'BIPs', href: '/bips/' }, { label: 'BIP-39' }]}
  tags={['Standards Track', 'Proposed']}
  author="Marek Palatinus, Pavol Rusnak, Aaron Voisine, Sean Bowe"
  date={new Date('2013-09-10')}
  prevPage={{ title: 'BIP-32: HD 錢包', href: '/bips/bip-0032' }}
  nextPage={{ title: 'BIP-44: 多帳戶 HD', href: '/bips/bip-0044' }}
>
  <div
    class="not-prose mb-8 p-4 rounded-lg bg-[var(--bg-secondary)] border border-[var(--border-default)]"
  >
    <div class="grid grid-cols-2 md:grid-cols-4 gap-4 text-sm">
      <div>
        <span class="text-[var(--text-tertiary)]">BIP 編號</span>
        <p class="font-semibold text-[var(--text-primary)]">39</p>
      </div>
      <div>
        <span class="text-[var(--text-tertiary)]">類型</span>
        <p class="font-semibold text-[var(--text-primary)]">Standards Track</p>
      </div>
      <div>
        <span class="text-[var(--text-tertiary)]">狀態</span>
        <p><Tag variant="default" size="sm">Proposed</Tag></p>
      </div>
      <div>
        <span class="text-[var(--text-tertiary)]">創建日期</span>
        <p class="font-semibold text-[var(--text-primary)]">2013-09-10</p>
      </div>
    </div>
  </div>

  <h2 class="text-2xl font-bold text-[var(--text-primary)] mt-8 mb-4">摘要</h2>
  <p class="text-[var(--text-secondary)] leading-relaxed mb-6">
    本 BIP 描述了一種使用助記碼或句子（一組易於記憶的單詞）生成確定性錢包的實現方式。
  </p>
  <p class="text-[var(--text-secondary)] leading-relaxed mb-6">
    它由兩部分組成：生成助記詞，以及將其轉換為二進位種子。這個種子後來可以使用 BIP-32
    或類似方法生成確定性錢包。
  </p>

  <h2 class="text-2xl font-bold text-[var(--text-primary)] mt-8 mb-4">動機</h2>
  <p class="text-[var(--text-secondary)] leading-relaxed mb-6">
    助記碼或句子優於原始的二進位或十六進位種子表示，因為人類更容易與單詞互動，
    而不是原始的數據序列。這讓備份和恢復錢包變得更加容易和不易出錯。
  </p>

  <h2 class="text-2xl font-bold text-[var(--text-primary)] mt-8 mb-4">生成助記詞</h2>
  <p class="text-[var(--text-secondary)] leading-relaxed mb-4">
    助記詞必須編碼 128-256 位的熵。熵被分成 11 位的組，每組對應一個單詞：
  </p>
  <div class="not-prose mb-6 overflow-x-auto">
    <table
      class="w-full text-sm border border-[var(--border-default)] rounded-lg overflow-hidden"
      aria-label="助記詞熵與單詞數對照表"
    >
      <thead class="bg-[var(--bg-secondary)]">
        <tr>
          <th scope="col" class="px-4 py-2 text-left text-[var(--text-primary)]">熵 (bits)</th>
          <th scope="col" class="px-4 py-2 text-left text-[var(--text-primary)]">校驗和 (bits)</th>
          <th scope="col" class="px-4 py-2 text-left text-[var(--text-primary)]">總計 (bits)</th>
          <th scope="col" class="px-4 py-2 text-left text-[var(--text-primary)]">單詞數</th>
        </tr>
      </thead>
      <tbody>
        <tr class="border-t border-[var(--border-default)]">
          <td class="px-4 py-2 text-[var(--text-secondary)]">128</td>
          <td class="px-4 py-2 text-[var(--text-secondary)]">4</td>
          <td class="px-4 py-2 text-[var(--text-secondary)]">132</td>
          <td class="px-4 py-2 text-[var(--text-secondary)]">12</td>
        </tr>
        <tr class="border-t border-[var(--border-default)]">
          <td class="px-4 py-2 text-[var(--text-secondary)]">160</td>
          <td class="px-4 py-2 text-[var(--text-secondary)]">5</td>
          <td class="px-4 py-2 text-[var(--text-secondary)]">165</td>
          <td class="px-4 py-2 text-[var(--text-secondary)]">15</td>
        </tr>
        <tr class="border-t border-[var(--border-default)]">
          <td class="px-4 py-2 text-[var(--text-secondary)]">192</td>
          <td class="px-4 py-2 text-[var(--text-secondary)]">6</td>
          <td class="px-4 py-2 text-[var(--text-secondary)]">198</td>
          <td class="px-4 py-2 text-[var(--text-secondary)]">18</td>
        </tr>
        <tr class="border-t border-[var(--border-default)]">
          <td class="px-4 py-2 text-[var(--text-secondary)]">224</td>
          <td class="px-4 py-2 text-[var(--text-secondary)]">7</td>
          <td class="px-4 py-2 text-[var(--text-secondary)]">231</td>
          <td class="px-4 py-2 text-[var(--text-secondary)]">21</td>
        </tr>
        <tr class="border-t border-[var(--border-default)]">
          <td class="px-4 py-2 text-[var(--text-secondary)]">256</td>
          <td class="px-4 py-2 text-[var(--text-secondary)]">8</td>
          <td class="px-4 py-2 text-[var(--text-secondary)]">264</td>
          <td class="px-4 py-2 text-[var(--text-secondary)]">24</td>
        </tr>
      </tbody>
    </table>
  </div>

  <h2 class="text-2xl font-bold text-[var(--text-primary)] mt-8 mb-4">單詞列表</h2>
  <p class="text-[var(--text-secondary)] leading-relaxed mb-6">
    BIP-39 定義了一個包含 2048 個英文單詞的標準列表。每個單詞被精心選擇，以確保：
  </p>
  <ul class="space-y-2 text-[var(--text-secondary)] mb-6">
    <li class="flex items-start gap-2">
      <span class="text-bitcoin-500">•</span>
      <span>只需要前四個字母就可以唯一識別每個單詞</span>
    </li>
    <li class="flex items-start gap-2">
      <span class="text-bitcoin-500">•</span>
      <span>避免使用相似的單詞對</span>
    </li>
    <li class="flex items-start gap-2">
      <span class="text-bitcoin-500">•</span>
      <span>單詞列表按字母順序排列</span>
    </li>
  </ul>

  <h2 class="text-2xl font-bold text-[var(--text-primary)] mt-8 mb-4">從助記詞到種子</h2>
  <p class="text-[var(--text-secondary)] leading-relaxed mb-6">
    要從助記詞創建二進位種子，使用 PBKDF2 函數，其中：
  </p>
  <ul class="space-y-2 text-[var(--text-secondary)] mb-6">
    <li class="flex items-start gap-2">
      <span class="text-bitcoin-500">•</span>
      <span><strong class="text-[var(--text-primary)]">密碼</strong>：助記句子（UTF-8 NFKD）</span>
    </li>
    <li class="flex items-start gap-2">
      <span class="text-bitcoin-500">•</span>
      <span
        ><strong class="text-[var(--text-primary)]">鹽</strong>：字串 "mnemonic" + 可選的密碼短語</span
      >
    </li>
    <li class="flex items-start gap-2">
      <span class="text-bitcoin-500">•</span>
      <span><strong class="text-[var(--text-primary)]">迭代次數</strong>：2048</span>
    </li>
    <li class="flex items-start gap-2">
      <span class="text-bitcoin-500">•</span>
      <span><strong class="text-[var(--text-primary)]">輸出長度</strong>：512 位（64 字節）</span>
    </li>
  </ul>

  <div class="p-4 rounded-lg bg-yellow-500/10 border border-yellow-500/30 mb-8">
    <div class="flex items-start gap-3">
      <svg
        class="h-5 w-5 text-yellow-600 mt-0.5 flex-shrink-0"
        fill="none"
        viewBox="0 0 24 24"
        stroke="currentColor"
        stroke-width="2"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"
        ></path>
      </svg>
      <div>
        <h4 class="font-semibold text-yellow-700 dark:text-yellow-400">安全提醒</h4>
        <p class="text-sm text-yellow-700/80 dark:text-yellow-400/80">
          永遠不要將助記詞存儲在數位設備上或拍照。使用紙筆記錄，並存放在安全的地方。
          考慮使用金屬備份來抵抗火災和水損。
        </p>
      </div>
    </div>
  </div>

  <h2 class="text-2xl font-bold text-[var(--text-primary)] mt-8 mb-4">範例</h2>
  <p class="text-[var(--text-secondary)] leading-relaxed mb-4">
    以下是一個 12 個單詞的助記詞範例：
  </p>
  <div
    class="not-prose mb-6 p-4 rounded-lg bg-[var(--bg-secondary)] border border-[var(--border-default)] font-mono text-sm text-[var(--text-secondary)]"
  >
    abandon ability able about above absent absorb abstract absurd abuse access accident
  </div>
  <p class="text-xs text-[var(--text-tertiary)] mb-6">（這只是範例，不要使用它來儲存任何比特幣）</p>

  <div class="mt-8 p-4 rounded-lg bg-bitcoin-500/10 border border-bitcoin-500/30">
    <p class="text-sm text-bitcoin-700 dark:text-bitcoin-400">
      <strong>延伸閱讀：</strong> 查看
      <a
        href="https://github.com/bitcoin/bips/blob/master/bip-0039.mediawiki"
        target="_blank"
        rel="noopener noreferrer"
        class="underline hover:no-underline"
      >
        GitHub 上的完整 BIP-39 文件
      </a>
    </p>
  </div>
</ArticleLayout>
