---
import PageLayout from '@/layouts/PageLayout.astro';
import Hero from '@/components/blocks/Hero.astro';
import TechStack from '@/components/blocks/TechStack.astro';
import TimelineSection from '@/components/blocks/TimelineSection.astro';
import BookshelfSection from '@/components/blocks/BookshelfSection.astro';
import ContributeCTA from '@/components/blocks/ContributeCTA.astro';
import { siteConfig } from '@/data/site';
import { generateOrganizationSchema } from '@/utils/schema';

// SEO Metadata
const title = '21dev.org | 比特幣技術教育平台 - Bitcoin Core、閃電網路、Nostr 中文文檔';
const description = '華語圈最完整的比特幣技術學習資源。深入淺出的 Bitcoin Core 開發教程、閃電網路實作指南、Nostr 協議解析、BIP 標準文檔翻譯、術語詞典。適合開發者、研究者和比特幣愛好者。';

// Organization Schema for homepage
const organizationSchema = generateOrganizationSchema();

// WebSite Schema with enhanced data
const homePageSchema = {
  '@context': 'https://schema.org',
  '@type': 'WebPage',
  '@id': `${siteConfig.url}/#webpage`,
  url: siteConfig.url,
  name: title,
  description: description,
  inLanguage: 'zh-Hant',
  isPartOf: {
    '@type': 'WebSite',
    '@id': `${siteConfig.url}/#website`,
    name: siteConfig.name,
    url: siteConfig.url,
  },
  about: {
    '@type': 'Thing',
    name: 'Bitcoin',
    sameAs: 'https://en.wikipedia.org/wiki/Bitcoin',
  },
  mainEntity: {
    '@type': 'ItemList',
    name: '主要學習資源',
    itemListElement: [
      {
        '@type': 'ListItem',
        position: 1,
        name: 'Bitcoin Core 技術文檔',
        url: `${siteConfig.url}/tech/bitcoin-core/`,
      },
      {
        '@type': 'ListItem',
        position: 2,
        name: '閃電網路教程',
        url: `${siteConfig.url}/tech/lightning/`,
      },
      {
        '@type': 'ListItem',
        position: 3,
        name: 'BIP 標準文檔',
        url: `${siteConfig.url}/bips/`,
      },
      {
        '@type': 'ListItem',
        position: 4,
        name: '術語詞典',
        url: `${siteConfig.url}/glossary/`,
      },
    ],
  },
};
---

<PageLayout title={title} description={description} schemas={[organizationSchema, homePageSchema]}>
  <Hero />
  <TechStack />
  <TimelineSection />
  <BookshelfSection />
  <ContributeCTA />
</PageLayout>
